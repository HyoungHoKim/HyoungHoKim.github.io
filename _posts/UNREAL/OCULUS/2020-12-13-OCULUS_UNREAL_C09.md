---
layout: post
title:  "Oculus와 언리얼 엔진을 사용한 VR개발_C09"
date:   2020-12-14 03:10:53 +0900
categories: [UNREAL, UNREAL/OCULUS]
---

### 시작하며
- 언리얼 엔진 공식 홈페이지 온라인 러닝 프로젝트 중 \<Oculus와 언리얼 엔진을 사용한 VR개발\>에 대한 요약 및 정리입니다.
- 블루프린트로 진행되며, 프로젝트를 하는데 필요한 에셋은 모두 제공됩니다. 코스 설명대로 따라하면 다운받을 수 있습니다.
- 추후 C++로 바꿔볼 예정입니다.
- 관련 링크 : https://www.unrealengine.com/en-US/onlinelearning-courses/vr-development-with-oculus-and-unreal-engine

### Oculus Guadian 디버그 뷰
- get play area transform : 이 함수는 트랜스폼 데이터인 위치, 회전 스케일을 제공합니다.
- 벡터가 알맞은 월드 스케일에 도달하려면 float 값을 곱해줘야 되는데 100이 아니고 50인 이유는 스케일 원점이 가운데에 있기 때문입니다. 한쪽으로 50, 반대쪽으로 50이면 100이 되는 것입니다.
- 디버그를 월드에 드로하는 마지막 단계는 중앙을 정의하는 겁니다. 반직관적인 방법은 'Get player Area Transform' 함수에서 나온 위치값을 사용하는 것 보다 플레이어 폰 위치를 사용하는 겁니다.
- 실행을 하면 플레이어 공간의 외곽선이 보일겁니다. 텔레포트를 해 보면 박스가 따라 오겠지만 어긋날 수도 있습니다. 이는 현실 세계의 플레이 공간과 레벨의로컬 및 월드 공간의 복잡한 관계 때문에 발생하는 문제입니다.

### 리센터링
- 레벨 안에서 디버그 박스가 어긋나는 이유는 작성한 로직이 현재의 오프셋 또는 플레이 공간 중앙에 상대적인 여러분의 머리 위치를 모르기 때문입니다.
- 머리가 중앙에서 30cm 떨어져 있다면 그 오프셋을 드로 박스에 추가해야합니다.
- 오프셋을 0으로 만들 수도 있는데 이것을 센터링이라 합니다.  
- 기본적으로 폰 안의 카메라가 보는 플레이 공간 중앙에서의 현실 세계 오프셋을 상속합니다.
- 중앙 재설정이 가능해지면 드로 박스 함수로 돌아가서 어긋나지 않는지 확인할 것입니다.
- 보통 이런 비헤이비어는 보통 플레이어 컨트롤러 내에 스크립트되거나 별도의 블루프린트에 스크립트되어 시작됩니다.
- RotateVector
  - 이 함수는 플레이 공간의 월드 스페이스 위치를 가져와서 플레이어 폰의 로컬 스페이스로 트랜스폼할 겁니다.
- 사용자가 Guardian을 활성화하지않는다면 위치, 회전, 경계 등 Guardian 데이터 반환 데이터를 사용할 수가 없다는 점에 유의하세요.
